apply plugin: 'java'

version = '1.0.0'

sourceCompatibility = 1.7
targetCompatibility = 1.7

jar {
    manifest.attributes([
        'Main-Class': 'me.mycloudand.cloudtrail.CloudTrailLogstash'
    ])
}

task fatJar(type: Jar) {
    baseName = "${project.name}-fatjar"
    from {
        configurations.runtime.collect { it.directory ? it : zipTree(it) }
    } {
        exclude 'META-INF/**'
    }
    with jar
}

dependencies {
    compile 'org.slf4j:slf4j-api:1.7.6'
    runtime 'org.slf4j:slf4j-log4j12:1.7.6'

    compile 'commons-cli:commons-cli:1.2'
    compile 'com.amazonaws:aws-cloudtrail-processing-library:1.0.0'
    compile 'redis.clients:jedis:2.6.1'
}

repositories {
    mavenLocal()
    mavenCentral()
}

